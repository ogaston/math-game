(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(module,__webpack_exports__,__webpack_require__){"use strict";var PRIMES_NUMBERS=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],getRandomSymbol=function(){var e=["+","-","/","*","+"],t=e.length-1;return e[Math.round(Math.random()*(+t-0)+0)]},evaluate=function(e,t){if("/"===e)return function(){var e=Math.floor(9*Math.random()+1),n=PRIMES_NUMBERS.filter(function(n){return t%n===0&&e*n});return+n[Math.floor(Math.random()*(n.length-1))]||1};if("*"===e){var n=0;return t<15&&(n=15),t>14&&t<50&&(n=8),t>49&&(n=5),function(){return getRandomNumber(n)}}return function(){return getRandomNumber(70)}},getRandomNumber=function(e){return(Math.random()*(e||100)).toFixed()},generateProblem=function(e){for(var t=parseInt(e/100/5+1),n=getRandomNumber(),a=n,r=0;r<t;r++){var s=getRandomSymbol(),o=evaluate(s,n)()||0;a+=" ".concat(s," ").concat(o),n=o}return a},compare=function(e,t){return solve(e)===+t},solve=function solve(expression){return eval(expression)};__webpack_exports__.a={generateProblem:generateProblem,compare:compare,solve:solve}},21:function(e,t,n){e.exports=n(34)},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(17),o=n.n(s),l=n(10),i=n(7),c=n(19),u={points:0,lifes:3,seconds:20,level:1,isFinished:!1,isStarted:!1},m=Object(i.c)(Object(i.a)(c.a))(i.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GAIN_POINTS":var n=e.points+t.payload;return Object.assign({},e,{points:n});case"SET_TIME":return Object.assign({},e,{seconds:t.payload});case"CORRECT_ANSWER":var a={points:e.points+t.payload.points,level:e.level+t.payload.level};return Object.assign({},e,a);case"REMOVE_LIVE":var r=e.lifes-t.payload;return Object.assign({},e,{lifes:r});case"FINISH_GAME":return Object.assign({},e,{isFinished:t.payload});case"RESTART_GAME":return Object.assign({},e,{points:0,lifes:3,seconds:20,level:1,isFinished:!1});case"START_GAME":return Object.assign({},e,{isStarted:!0});case"EARN_LIFE":return Object.assign({},e,{lifes:e.lifes+1});case"REBOOT_GAME":return Object.assign({},e,{points:0,lifes:3,seconds:20,level:1,isFinished:!1,isStarted:!1});default:return e}}),p=(n(30),n(1)),f=n(2),d=n(4),h=n(3),E=n(5),v=function(e){return function(t){t(e?{type:"FINISH_GAME",payload:!0}:{type:"RESTART_GAME",payload:!0})}};function y(e){var t=e.children,n=e.isClicked;return r.a.createElement("button",{className:"App-link",onClick:n},t)}function g(e){var t=e.type,n=e.text,a=e.onInputChange;return r.a.createElement("input",{type:t||"text",className:"App-input App-input--sm",placeholder:n,onChange:a})}var b={set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}},O={set:function(e,t){sessionStorage.setItem(e,t)},get:function(e){return sessionStorage.getItem(e)}},w=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={player:"player"},n.setNameOfPlayer=function(e){n.setState({player:e.target.value})},n.clicked=function(){O.set("onlinePlayer",n.state.player),n.props.startPressed()},n}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"App-brandname"},r.a.createElement("i",{className:"fas fa-graduation-cap"}),r.a.createElement("br",null),r.a.createElement("h3",null,"Do You Know"),r.a.createElement("h1",null,"Math?")),r.a.createElement(g,{text:"Insert your name",onInputChange:this.setNameOfPlayer}),r.a.createElement("p",null,"Press to start the game"),r.a.createElement(y,{isClicked:this.clicked},"Start"))}}]),t}(r.a.Component),S=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={msg:3},n}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.intervalRef=setInterval(function(){return e.setState(function(e){return 1===e.msg?{msg:"GO"}:"GO"===e.msg?{msg:void 0}:{msg:e.msg-1}})},1e3)}},{key:"shouldComponentUpdate",value:function(e,t){return void 0!==t.msg||(clearInterval(this.intervalRef),this.props.isComplete(),!1)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"GET READY..."),r.a.createElement("h1",null,this.state.msg))}}]),t}(r.a.Component),j={yellow:"#d8b600",lightBlue:"#61dafb",darkGray:"#999ea7",midGray:"#424855",lightGray:"#f5f5f5",darkBg:"#282c34",red:"#ff6572",green:"#31cd61"};function k(e){var t=e.type,n=e.text,a="sucess"===t?{class:"correct-answer",el:r.a.createElement("i",{className:"fas fa-check"})}:{class:"wrong-answer",el:r.a.createElement("i",{className:"fas fa-times-circle"})};return r.a.createElement("section",null,r.a.createElement("div",{className:"answer  ".concat(a.class)},r.a.createElement("h2",null," ",a.el," ")),r.a.createElement("span",null,n&&"sucess"===t&&r.a.createElement("h4",{style:{color:j.green}},n),n&&"sucess"!==t&&r.a.createElement("h4",{style:{color:j.midGray}},"Answer: ",r.a.createElement("span",{style:{color:j.lightGray}},n))))}var A=n(16),_=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s))))._isMounted=!1,n.state={problem:"",answer:0,modal:"",modalShowing:!1,streaks:0},n.correctAnswer=function(){n.state.streaks>2?(n.props.onEarnLife(),n.showModal("sucess","STREAK!! You won a life \u2665")):n.showModal("sucess"),n._isMounted&&n.props.onCorretAnswer(),n.setState(function(e){return{streaks:e.streaks+1}}),n.nextProblem()},n.wrongAnswer=function(){n._isMounted&&n.props.onWrongAnswer(),n.setState({streaks:0}),n.showModal("error",A.a.solve(n.state.problem)),n.nextProblem()},n.nextProblem=function(){console.log(n.state),setTimeout(function(){n.getProblem(),n._isMounted&&n.setState({modalShowing:!1}),n.props.lifes>0&&n.answerInput.focus()},2500)},n.evaluateProblem=function(){return A.a.compare(n.state.problem,n.state.answer)?n.correctAnswer():n.wrongAnswer()},n.keyingUp=function(e){"Enter"===e.key&&n.evaluateProblem();var t=e.target.value;n.setState({answer:Number(t.match(/\d+/g))})},n.showModal=function(e,t){n.setState({modal:r.a.createElement(k,{type:e,text:t}),modalShowing:!0})},n.getProblem=function(){var e=A.a.generateProblem(n.props.points);n._isMounted&&n.setState({problem:e})},n}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.getProblem(),this.answerInput.focus()}},{key:"shouldComponentUpdate",value:function(e){return this.props.lifes<1?(this.props.onEndGame(this.state.points),!1):e.lifes>-1}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"show-up"},r.a.createElement("div",null,this.state.modalShowing?this.state.modal:r.a.createElement("div",null,r.a.createElement("h1",{style:{fontSize:"3.5em"}}," ",this.state.problem," "),r.a.createElement("input",{ref:function(t){e.answerInput=t},className:"App-input",type:"number",placeholder:"Respuesta",min:"0",onKeyUp:this.keyingUp}))))}}]),t}(r.a.Component),R=n(20),M={container:{display:"flex",justifyContent:"space-around"},el:{flex:1},title:{margin:"0.6em auto"},divider:{border:"0.5px solid ".concat(j.midGray)},timeCol:{flex:1,padding:"0.3em 0em",fontSize:"0.6em",color:j.darkGray},sectionContainer:{textAlign:"left",padding:"0.15em 0em"}};function N(e){var t=e.player;return r.a.createElement("div",{style:M.sectionContainer},r.a.createElement("h5",{style:M.title},t.name),r.a.createElement("div",{style:M.container},r.a.createElement("small",{style:M.timeCol},r.a.createElement("i",{className:"fas fa-clock"})," "+R(new Date(t.time)).fromNow()),r.a.createElement("small",{style:M.el},r.a.createElement("i",{className:"fas fa-star",style:{color:j.yellow}})," ",t.points)),r.a.createElement("hr",{style:M.divider}))}function G(e){var t=e.points,n=O.get("onlinePlayer"),a=JSON.parse(b.get("scoreTable"))||[];return a.push({name:n,points:t,time:Date.now()}),a=a.sort(function(e,t){return t.points-e.points}).slice(0,4),b.set("scoreTable",JSON.stringify(a)),r.a.createElement("div",null,a.map(function(e,t){return r.a.createElement(N,{player:e,key:t})}))}var C={fontSize:"1.5em",color:"#61dafb",fontFamily:"fantasy",cursor:"pointer"},I={color:"white",fontFamily:"fantasy",cursor:"pointer",fontSize:"1em",margin:"0.1em auto 3em"},T={height:0,border:"0.5px solid #61dafb"},P={color:"#61dafb",fontWeight:"bold"},x=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=T,t=C,n=I,a=P;return r.a.createElement("div",null,r.a.createElement("h1",null,"GAME OVER"),r.a.createElement("hr",{style:e}),r.a.createElement("h3",null,"FINAL SCORE ",r.a.createElement("b",{style:a},this.props.points)),r.a.createElement("br",null),r.a.createElement("h3",{style:t,onClick:this.props.retryGame},"RETRY"),r.a.createElement("h5",{style:n,onClick:this.props.onReStartGame},"Another player"),r.a.createElement(G,this.props))}}]),t}(r.a.Component),F=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={seconds:n.props.seconds,level:n.props.level},n}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({seconds:this.props.seconds}),this._secondsIntervalRef=setInterval(function(){return e.setState(function(e){return{seconds:--e.seconds}})},1e3)}},{key:"componentDidUpdate",value:function(){var e=this;this.props.level!==this.state.level&&(this.setState(function(t){return{level:e.props.level,seconds:t.seconds+20}}),this.props.setTimeChanged(this.state.seconds)),this.state.seconds<0&&this.props.onEndGame()}},{key:"componentWillUnmount",value:function(){clearInterval(this._secondsIntervalRef)}},{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-clock"})," ",r.a.createElement("b",null,this.state.seconds))}}]),t}(r.a.Component);function B(e){for(var t=e.lifes,n=[],a=0;a<t;a++)n.push(r.a.createElement("i",{key:a,style:{marginLeft:"0.1em"},className:"fas fa-heart"}));return r.a.createElement("span",{style:{color:j.red}},n)}function D(e){var t=e.points;return r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-star",style:{color:j.yellow}})," ",t)}n(32);var U=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isBeginningDone:!1,lastPoints:0},n.retryGame=function(){n.setState({isBeginningDone:!1}),n.props.onRetryGame()},n.completeBeginning=function(){n.setState({isBeginningDone:!0})},n}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return this.props.isFinished?r.a.createElement(x,Object.assign({},this.props,{retryGame:this.retryGame})):r.a.createElement("div",null,this.state.isBeginningDone?r.a.createElement("div",null,r.a.createElement("div",{className:"App-header-bar"},r.a.createElement(F,this.props),r.a.createElement(B,this.props),r.a.createElement(D,this.props)),r.a.createElement(_,this.props)):r.a.createElement(S,{isComplete:this.completeBeginning}))}}]),t}(r.a.Component);n(33);function W(){return r.a.createElement("footer",{className:"App-footer"},r.a.createElement("small",null,"made with \u2665 by ",r.a.createElement("a",{href:"https://github.com/ogaston",rel:"noopener noreferrer",target:"_blank"},"Omar Gaston")))}var L=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).gameStart=function(){n.props.onStartGame()},n}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},this.props.isStarted?r.a.createElement(U,Object.assign({},this.props,{gameStart:this.gameStart})):r.a.createElement(w,{startPressed:this.gameStart})),r.a.createElement(W,null))}}]),t}(a.Component),V=Object(l.b)(function(e){return{points:e.points,lifes:e.lifes,seconds:e.seconds,level:e.level,isFinished:e.isFinished,isStarted:e.isStarted}},function(e){return{onCorretAnswer:function(t){return e(function(e){e({type:"CORRECT_ANSWER",payload:{points:100,level:1}})})},onWrongAnswer:function(){return e(function(e){e({type:"REMOVE_LIVE",payload:1})})},setTimeChanged:function(t){return e((n=t,function(e){e({type:"SET_TIME",payload:n})}));var n},onEndGame:function(){return e(v(!0))},onRetryGame:function(){return e(v(!1))},onReStartGame:function(){return e(function(e){e({type:"REBOOT_GAME"})})},onStartGame:function(){return e(function(e){e({type:"START_GAME"})})},onEarnLife:function(){return e(function(e){e({type:"EARN_LIFE"})})}}})(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{store:m},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.87828e23.chunk.js.map